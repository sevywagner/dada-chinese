{"version":3,"file":"static/js/134.3b529246.chunk.js","mappings":"2MA2EA,UAnEgB,WACd,OAAwBA,EAAAA,EAAAA,YAAU,eAA3BC,EAAI,KAAEC,EAAO,KACdC,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,UACXC,GAAaD,EAAAA,EAAAA,UAEbE,IADcF,EAAAA,EAAAA,WACAA,EAAAA,EAAAA,WAgCpB,OAFAG,QAAQC,IAAIT,IAGV,iBAAKU,UAAWC,EAAAA,EAAAA,KAAY,WAC1B,cAAGD,UAAWE,EAAAA,EAAAA,MAAiB,SAAC,oBAChC,kBAAMF,UAAWC,EAAAA,EAAAA,KAAaE,SAjCZ,SAACC,GACrBA,EAAMC,iBAEN,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASd,EAASe,QAAQC,OAC1CJ,EAASE,OAAO,UAAWZ,EAAWa,QAAQC,OAC9CJ,EAASE,OAAO,QAASlB,GACzBgB,EAASE,OAAO,WAAYX,EAAYY,QAAQC,OAChDJ,EAASE,OAAO,QAAQ,IAAIG,MAAOC,gBAEnCC,MAAM,oDAAqD,CACzDC,OAAQ,OACRC,KAAMT,EACNU,QAAS,CACPC,cAAe,UAAaC,aAAaC,QAAQ,YAGlDC,MAAK,SAACC,GACLvB,QAAQC,IAAIsB,GACZ7B,EAAS,qBACX,IACC8B,OAAM,SAACC,GAAG,OAAKzB,QAAQC,IAAIwB,EAAI,GACpC,EAW0D,WACpD,iBAAKvB,UAAWwB,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,WACP,kBAAOC,KAAK,OAAOC,IAAKhC,QAE1B,iBAAKM,UAAWwB,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,WACP,kBAAOC,KAAK,OAAOE,SAhBP,SAACvB,GACnBb,EAAQa,EAAMwB,OAAOC,MAAM,GAC7B,EAciDC,K,iBAE3C,iBAAK9B,UAAWwB,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,eACP,kBAAOC,KAAK,OAAOC,IAAK7B,QAE1B,iBAAKG,UAAWwB,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,aACP,qBAAUxB,UAAWC,EAAAA,EAAAA,SAAiByB,IAAK9B,QAE7C,gBAAKI,UAAWC,EAAAA,EAAAA,OAAc,UAC1B,SAAC,IAAM,CAACwB,KAAK,SAAQ,SAAC,oBAKlC,C,qBCxEA,KAAgB,KAAO,2BAA2B,MAAQ,4BAA4B,QAAU,8BAA8B,OAAS,6BAA6B,cAAc,kC,qBCAlL,KAAgB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,OAAS,yBAAyB,SAAW,2B","sources":["pages/admin/NewBlog.js","webpack://dada-chinese/./src/components/sign-in/css/sign-in-form.module.css?61f8","webpack://dada-chinese/./src/pages/css/new-blog.module.css?fd2e"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\n\nimport Button from \"../../components/util/Button\";\nimport styles from \"./../css/new-blog.module.css\";\nimport formStyles from \"./../../components/sign-in/css/sign-in-form.module.css\";\nimport mainStyles from './../../components/main.module.css';\n\nconst NewBlog = () => {\n  const [file, setFile] = useState();\n  const navigate = useNavigate();\n\n  const titleRef = useRef();\n  const contentRef = useRef();\n  const imageUrlRef = useRef();\n  const videoUrlRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append('title', titleRef.current.value);\n    formData.append('content', contentRef.current.value);\n    formData.append('image', file);\n    formData.append('videoUrl', videoUrlRef.current.value);\n    formData.append('date', new Date().toDateString());\n\n    fetch(\"https://dada-chinese-rest-api.herokuapp.com/posts\", {\n      method: \"POST\",\n      body: formData,\n      headers: {\n        Authorization: 'Bearer ' +  localStorage.getItem('token')\n      },\n    })\n      .then((result) => {\n        console.log(result);\n        navigate('/dada-chinese/blog');\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const fileHandler = (event) => {\n    setFile(event.target.files[0]);\n  }\n\n  console.log(file);\n\n  return (\n    <div className={styles.root}>\n      <p className={mainStyles.title}>New Blog Entry</p>\n      <form className={styles.form} onSubmit={submitHandler}>\n        <div className={formStyles.block}>\n          <label>Title</label>\n          <input type=\"text\" ref={titleRef} />\n        </div>\n        <div className={formStyles.block}>\n          <label>Image</label>\n          <input type=\"file\" onChange={fileHandler.bind(this)} />\n        </div>\n        <div className={formStyles.block}>\n          <label>Video Url</label>\n          <input type=\"text\" ref={videoUrlRef} />\n        </div>\n        <div className={formStyles.block}>\n          <label>Content</label>\n          <textarea className={styles.textarea} ref={contentRef}></textarea>\n        </div>\n        <div className={styles.center}>\n            <Button type=\"submit\">Add blog</Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default NewBlog;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"sign-in-form_wrap__uyA1X\",\"block\":\"sign-in-form_block__sFmMD\",\"invalid\":\"sign-in-form_invalid__Fj2iK\",\"inputs\":\"sign-in-form_inputs__MVwqR\",\"input-field\":\"sign-in-form_input-field__tLrji\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"new-blog_form__igf5g\",\"wrap\":\"new-blog_wrap__8K6mA\",\"root\":\"new-blog_root__zNqEj\",\"center\":\"new-blog_center__2s6Ox\",\"textarea\":\"new-blog_textarea__URmiA\"};"],"names":["useState","file","setFile","navigate","useNavigate","titleRef","useRef","contentRef","videoUrlRef","console","log","className","styles","mainStyles","onSubmit","event","preventDefault","formData","FormData","append","current","value","Date","toDateString","fetch","method","body","headers","Authorization","localStorage","getItem","then","result","catch","err","formStyles","type","ref","onChange","target","files","bind"],"sourceRoot":""}