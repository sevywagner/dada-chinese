"use strict";(self.webpackChunkdada_chinese=self.webpackChunkdada_chinese||[]).push([[818],{3818:function(t,e,n){n.r(e),n.d(e,{default:function(){return J}});var r,a,o,i=n(9439),c=n(2791),u=n(9434),s="checkout-item_item__ds-f5",l="checkout-item_title__Q75xj",d="checkout-item_price__Q4+Ir",f="checkout-item_quantity__R6c8N",p=n(184),h=function(t){var e=t.title,n=t.price,r=t.quantity;return(0,p.jsxs)("div",{className:s,children:[(0,p.jsx)("p",{className:l,children:e}),n?(0,p.jsxs)("p",{className:d,children:["$",n]}):(0,p.jsx)("p",{className:d,children:"Price"}),(0,p.jsx)("p",{className:f,children:r})]})};!function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"}(r||(r={})),function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"}(a||(a={})),function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"}(o||(o={}));var v="data-react-paypal-script-id",m="data-sdk-integration-source",y="react-paypal-js",E="data-namespace",N="Failed to load the PayPal JS SDK script.",w="3.84.0",b=("https://js.braintreegateway.com/web/".concat(w,"/js/client.min.js"),"https://js.braintreegateway.com/web/".concat(w,"/js/paypal-checkout.min.js"),"paypal"),P=function(){return P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},P.apply(this,arguments)};function S(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n}function g(t,e,n){if(n||2===arguments.length)for(var r,a=0,o=e.length;a<o;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}function j(t){return void 0===t&&(t=b),window[t]}function I(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,a=void 0===r?"":r,o=t.sdkDataNamespace,i=void 0===o?b:o,c=n.charAt(0).toUpperCase().concat(n.substring(1)),u="Unable to render <".concat(e," /> because window.").concat(i,".").concat(c," is undefined.");if(!a.includes(n)){var s=[a,n].filter(Boolean).join();u+="\nTo fix the issue, add '".concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(s,"'}}>`.")}return u}function A(t){return"react-paypal-js-".concat(function(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}(JSON.stringify(t)))}function O(t,e){var n;switch(e.type){case a.LOADING_STATUS:return P(P({},t),{loadingStatus:e.value});case a.RESET_OPTIONS:return function(t){var e=self.document.querySelector("script[".concat(v,'="').concat(t,'"]'));(null===e||void 0===e?void 0:e.parentNode)&&e.parentNode.removeChild(e)}(t.options[v]),delete e.value[v],P(P({},t),{loadingStatus:r.PENDING,options:P(P({},e.value),(n={},n[v]="".concat(A(e.value)),n[m]=y,n))});case a.SET_BRAINTREE_INSTANCE:return P(P({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var k=(0,c.createContext)(null);function R(t){if("function"===typeof(null===t||void 0===t?void 0:t.dispatch)&&0!==t.dispatch.length)return t;throw new Error("usePayPalScriptReducer must be used within a PayPalScriptProvider")}function _(){var t=R((0,c.useContext)(k));return[P(P({},t),{isInitial:t.loadingStatus===r.INITIAL,isPending:t.loadingStatus===r.PENDING,isResolved:t.loadingStatus===r.RESOLVED,isRejected:t.loadingStatus===r.REJECTED}),t.dispatch]}(0,c.createContext)({});var T=function t(e){var n=e.className,r=void 0===n?"":n,a=e.disabled,o=void 0!==a&&a,i=e.children,u=e.forceReRender,s=void 0===u?[]:u,l=S(e,["className","disabled","children","forceReRender"]),d=o?{opacity:.38}:{},f="".concat(r," ").concat(o?"paypal-buttons-disabled":"").trim(),p=(0,c.useRef)(null),h=(0,c.useRef)(null),v=_()[0],m=v.isResolved,y=v.options,N=(0,c.useState)(null),w=N[0],b=N[1],A=(0,c.useState)(!0),O=A[0],k=A[1],R=(0,c.useState)(null)[1];function T(){null!==h.current&&h.current.close().catch((function(){}))}return(0,c.useEffect)((function(){if(!1===m)return T;var e=j(y[E]);if(void 0===e||void 0===e.Buttons)return R((function(){throw new Error(I({reactComponentName:t.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:y.components,sdkDataNamespace:y[E]}))})),T;try{h.current=e.Buttons(P(P({},l),{onInit:function(t,e){b(e),"function"===typeof l.onInit&&l.onInit(t,e)}}))}catch(n){return R((function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(n))}))}return!1===h.current.isEligible()?(k(!1),T):p.current?(h.current.render(p.current).catch((function(t){null!==p.current&&0!==p.current.children.length&&R((function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(t))}))})),T):T}),g(g([m],s,!0),[l.fundingSource],!1)),(0,c.useEffect)((function(){null!==w&&(!0===o?w.disable().catch((function(){})):w.enable().catch((function(){})))}),[o,w]),c.createElement(c.Fragment,null,O?c.createElement("div",{ref:p,style:d,className:f}):i)};function C(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),function(t){var e=t["merchant-id"],n=t["data-merchant-id"],r="",a="";Array.isArray(e)?e.length>1?(r="*",a=e.toString()):r=e.toString():"string"===typeof e&&e.length>0?r=e:"string"===typeof n&&n.length>0&&(r="*",a=n);t["merchant-id"]=r,t["data-merchant-id"]=a}(t);var n=Object.keys(t).filter((function(e){return"undefined"!==typeof t[e]&&null!==t[e]&&""!==t[e]})).reduce((function(e,n){var r=t[n].toString();return"data-"===n.substring(0,5)?e.dataAttributes[n]=r:e.queryParams[n]=r,e}),{queryParams:{},dataAttributes:{}}),r=n.queryParams,a=n.dataAttributes;return{url:"".concat(e,"?").concat(x(r)),dataAttributes:a}}function x(t){var e="";return Object.keys(t).forEach((function(n){0!==e.length&&(e+="&"),e+=n+"="+t[n]})),e}function D(t,e){void 0===e&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach((function(t){n.setAttribute(t,e[t]),"data-csp-nonce"===t&&n.setAttribute("nonce",e["data-csp-nonce"])})),n}function L(t,e){if(void 0===e&&(e=B()),U(t,e),"undefined"===typeof window)return e.resolve(null);var n=C(t),r=n.url,a=n.dataAttributes,o=a["data-namespace"]||"paypal",i=M(o);return function(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(null===n)return null;var r=D(t,e),a=n.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(r.dataset).length)return null;var o=!0;return Object.keys(a.dataset).forEach((function(t){a.dataset[t]!==r.dataset[t]&&(o=!1)})),o?n:null}(r,a)&&i?e.resolve(i):q({url:r,attributes:a},e).then((function(){var t=M(o);if(t)return t;throw new Error("The window.".concat(o," global variable is not available."))}))}function q(t,e){void 0===e&&(e=B()),U(t,e);var n=t.url,r=t.attributes;if("string"!==typeof n||0===n.length)throw new Error("Invalid url.");if("undefined"!==typeof r&&"object"!==typeof r)throw new Error("Expected attributes to be an object.");return new e((function(t,e){if("undefined"===typeof window)return t();!function(t){var e=t.url,n=t.attributes,r=t.onSuccess,a=t.onError,o=D(e,n);o.onerror=a,o.onload=r,document.head.insertBefore(o,document.head.firstElementChild)}({url:n,attributes:r,onSuccess:function(){return t()},onError:function(){var t=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then((function(n){return 200===n.status&&e(t),n.text()})).then((function(t){var n=function(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}(t);e(new Error(n))})).catch((function(t){e(t)})):e(t)}})}))}function B(){if("undefined"===typeof Promise)throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function M(t){return window[t]}function U(t,e){if("object"!==typeof t||null===t)throw new Error("Expected an options object.");if("undefined"!==typeof e&&"function"!==typeof e)throw new Error("Expected PromisePonyfill to be a function.")}T.displayName="PayPalButtons";(function t(e){var n=e.className,r=void 0===n?"":n,a=e.children,o=S(e,["className","children"]),i=_()[0],u=i.isResolved,s=i.options,l=(0,c.useRef)(null),d=(0,c.useState)(!0),f=d[0],p=d[1],h=(0,c.useState)(null)[1];return(0,c.useEffect)((function(){if(!1!==u){var e=j(s[E]);if(void 0===e||void 0===e.Marks)return h((function(){throw new Error(I({reactComponentName:t.displayName,sdkComponentKey:"marks",sdkRequestedComponents:s.components,sdkDataNamespace:s[E]}))}));!function(t){var e=l.current;if(!e||!t.isEligible())return p(!1);e.firstChild&&e.removeChild(e.firstChild),t.render(e).catch((function(t){null!==e&&0!==e.children.length&&h((function(){throw new Error("Failed to render <PayPalMarks /> component. ".concat(t))}))}))}(e.Marks(P({},o)))}}),[u,o.fundingSource]),c.createElement(c.Fragment,null,f?c.createElement("div",{ref:l,className:r}):a)}).displayName="PayPalMarks";var G=function(t){var e,n=t.options,o=void 0===n?{"client-id":"test"}:n,i=t.children,u=t.deferLoading,s=void 0!==u&&u,l=(0,c.useReducer)(O,{options:P(P({},o),(e={},e[v]="".concat(A(o)),e[m]=y,e)),loadingStatus:s?r.INITIAL:r.PENDING}),d=l[0],f=l[1];return(0,c.useEffect)((function(){if(!1===s&&d.loadingStatus===r.INITIAL)return f({type:a.LOADING_STATUS,value:r.PENDING});if(d.loadingStatus===r.PENDING){var t=!0;return L(d.options).then((function(){t&&f({type:a.LOADING_STATUS,value:r.RESOLVED})})).catch((function(e){console.error("".concat(N," ").concat(e)),t&&f({type:a.LOADING_STATUS,value:r.REJECTED})})),function(){t=!1}}}),[d.options,s,d.loadingStatus]),c.createElement(k.Provider,{value:P(P({},d),{dispatch:f})},i)},F=n(7689),Z=function(t){var e=t.totalAmount,n=(0,F.s0)();return(0,p.jsx)(G,{options:{"client-id":"AcNOytnjExuv-KS5qOHxR49tPBcnhrcmbiMx1rhUqpiy7YsFFwavvM65ZsMyM6RGs7PicM8vKqQyfdrj"},children:(0,p.jsx)(T,{createOrder:function(t,n){return n.order.create({purchase_units:[{description:"Purchase from Dada Chinese Webstore",amount:{value:""+e}}]})},onApprove:function(t,e){return e.order.capture().then((function(t){n("/dada-chinese/order-confirmation")})).catch((function(t){console.log(t)}))},onError:function(t){console.log(t)}})})},K=n(2845),Q=n(3264),V=n(2626),J=function(){var t=(0,c.useState)(!1),e=(0,i.Z)(t,2),n=e[0],r=e[1],a=(0,u.v9)((function(t){return t.cart}));return(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:Q.Z.title,children:"Checkout"}),(0,p.jsxs)("div",{className:V.Z["list-wrap"],children:[(0,p.jsx)(h,{title:"Item",quantity:"Quantity"}),a.items.map((function(t){return(0,p.jsx)(h,{title:t.title,price:t.price,quantity:t.quantity},t.title)}))]}),(0,p.jsxs)("p",{className:Q.Z.title,children:["Total Price: ",a.totalPrice]}),(0,p.jsx)("div",{className:V.Z.wrap,children:n?(0,p.jsx)(Z,{totalAmount:a.totalPrice}):(0,p.jsx)(K.Z,{onClick:function(){r((function(t){return!t}))},children:"Checkout"})})]})}},2626:function(t,e){e.Z={wrap:"checkout_wrap__qFQpx",form:"checkout_form__8VUDs","list-wrap":"checkout_list-wrap__f35ZQ"}}}]);
//# sourceMappingURL=818.0fd17f58.chunk.js.map