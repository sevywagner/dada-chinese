{"version":3,"file":"static/js/7.ba7decb5.chunk.js","mappings":"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","sources":["webpack://dada-chinese/./src/pages/css/sign-in.module.css?7c04","components/sign-in/SignInForm.js","components/sign-in/SignUpForm.js","pages/SignIn.js","webpack://dada-chinese/./src/components/sign-in/css/sign-in-form.module.css?61f8"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"root\":\"sign-in_root__97RE8\",\"elevate\":\"sign-in_elevate__vTr2y\",\"form\":\"sign-in_form__Cuhq7\",\"reset\":\"sign-in_reset__25dhf\"};","import { useRef, useState } from \"react\";\nimport { useContext } from \"react\";\nimport { authContext } from \"../../store/context/auth-context\";\nimport { useNavigate } from \"react-router\";\nimport styles from \"./css/sign-in-form.module.css\";\nimport Button from \"../util/Button\";\n\nconst SignInForm = () => {\n  const [error, setError] = useState();\n  const navigate = useNavigate();\n  const authCtx = useContext(authContext);\n\n  const emailInputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    let responseIsOk;\n\n    fetch('https://dada-chinese-rest-api.herokuapp.com/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: emailInputRef.current.value,\n        password: passwordInputRef.current.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then((response) => {\n      if (!response.ok) {\n        responseIsOk = false;\n      } else {\n        responseIsOk = true;\n      }\n\n      return response.json()\n    }).then((data) => {\n      if (!responseIsOk) {\n        return setError(data.error);\n      }\n      authCtx.loginHandler(data.token, data.expiration);\n      navigate('/dada-chinese');\n    }).catch((err) => {\n      console.log(err.message);\n    })\n  }\n\n  return (\n    <>\n      <form className={styles.form} onSubmit={submitHandler}>\n        {error && <p>{error}</p>}\n        <div className={styles.inputs}>\n          <div className={styles.block}>\n            <label>Email</label>\n            <input type=\"text\" ref={emailInputRef} />\n          </div>\n\n          <div className={styles.block}>\n            <label>Password</label>\n            <input type=\"password\" ref={passwordInputRef} />\n          </div>\n        </div>\n        <Button type=\"submit\">Log in</Button>\n      </form>\n    </>\n  );\n};\n\nexport default SignInForm;","import { useNavigate } from \"react-router\";\nimport useInput from \"../../hooks/use-input\";\nimport Button from \"../util/Button\";\nimport styles from './css/sign-in-form.module.css';\n\nconst SignUpForm = ({ errorHandler }) => {\n  const navigate = useNavigate();\n\n  const {\n    value: name,\n    isValid: nameIsValid,\n    hasError: nameHasError,\n    valueChangeHandler: nameChangeHandler,\n    blurHandler: nameBlurHandler,\n    reset: resetName,\n  } = useInput((data) => data.trim() !== \"\");\n\n  const {\n    value: email,\n    isValid: emailIsValid,\n    hasError: emailHasError,\n    valueChangeHandler: emailChangeHandler,\n    blurHandler: emailBlurHandler,\n    reset: resetEmail,\n  } = useInput((data) => data.includes(\"@\"));\n\n  const {\n    value: password,\n    isValid: passwordIsValid,\n    hasError: passwordHasError,\n    valueChangeHandler: passwordChangeHandler,\n    blurHandler: passwordBlurHandler,\n    reset: resetPassword,\n  } = useInput((data) => data.trim().length >= 8);\n\n  const {\n    value: password2,\n    isValid: password2IsValid,\n    hasError: password2HasError,\n    valueChangeHandler: password2ChangeHandler,\n    blurHandler: password2BlurHandler,\n    reset: resetPassword2,\n  } = useInput((data) => data.trim() !== '');\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    if (!nameIsValid) {\n      errorHandler('Please enter a valid email');\n      return;\n    }\n\n    if (!emailIsValid) {\n      errorHandler('Please enter a valid email');\n      return;\n    }\n\n    if (!passwordIsValid) {\n      errorHandler('Please enter a valid password');\n      return;\n    }\n\n    \n    if (nameIsValid && emailIsValid && passwordIsValid && password2IsValid) {\n      let responseIsOk;\n      fetch('https://dada-chinese-rest-api.herokuapp.com/auth/signup', {\n        method: 'PUT',\n        body: JSON.stringify({\n          name,\n          email,\n          password,\n          confirmPassword: password2\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then((response) => {\n        if (!response.ok) {\n          responseIsOk = false;\n        } else {\n          responseIsOk = true;\n        }\n\n        return response.json();\n      }).then((data) => {\n        if (!responseIsOk) {\n          return errorHandler(data.error);\n        } else {\n          resetName();\n          resetEmail();\n          resetPassword();\n          resetPassword2();\n          errorHandler(null);\n          navigate('/dada-chinese/sign-in');\n        }\n      }).catch((err) => {\n        console.log(err);\n      });\n\n    } else {\n      errorHandler('Invalid Credentials');\n    }\n  }\n\n  const classNames = {\n    name: nameHasError ? styles.invalid : \"\",\n    email: emailHasError ? styles.invalid : \"\",\n    password: passwordHasError ? styles.invalid : \"\",\n    password2: password2HasError ? styles.invalid : \"\"\n  };\n\n  return (\n    <>\n      <form onSubmit={submitHandler}>\n\n        <label className={styles.label}>Name</label>\n        <input\n          className={classNames.name}\n          type=\"text\"\n          onChange={nameChangeHandler}\n          onBlur={nameBlurHandler}\n          value={name}\n          name=\"name\"\n          placeholder=\"Full name\"\n        />\n\n        <label className={styles.label}>Email</label>\n        <input\n          className={classNames.email}\n          type=\"text\"\n          onChange={emailChangeHandler}\n          onBlur={emailBlurHandler}\n          value={email}\n          name=\"email\"\n          placeholder=\"test@test.com\"\n        />\n\n        <label className={styles.label}>Set password</label>\n        <input\n          className={classNames.password}\n          type=\"password\"\n          onChange={passwordChangeHandler}\n          onBlur={passwordBlurHandler}\n          value={password}\n          name=\"password\"\n          placeholder=\"Must be 8 characters and include a number\"\n        />\n\n        <label className={styles.label}>Confirm password</label>\n        <input\n          className={classNames.password}\n          type=\"password\"\n          onChange={password2ChangeHandler}\n          onBlur={password2BlurHandler}\n          value={password2}\n          name=\"password2\"\n        />\n\n        <Button className={styles.submit} type=\"submit\">Submit</Button>\n      </form>\n    </>\n  );\n};\n\nexport default SignUpForm;","import mainStyles from './../components/main.module.css';\nimport styles from './css/sign-in.module.css';\nimport SignInForm from '../components/sign-in/SignInForm';\nimport SignUpForm from '../components/sign-in/SignUpForm';\nimport { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nconst SignIn = ({ mode }) => {\n    const location = useLocation();\n    const [error, setError] = useState();\n\n    const errorHandler = (errorMessage) => {\n        setError(errorMessage);\n    }\n\n    useEffect(() => {\n        setError(null);\n    }, [location.pathname]);\n\n    return (\n        <div className={styles.root}>\n            <div className={styles['elevate']}>\n                <p className={mainStyles.title}>Sign {mode === 'register' ? 'up' : 'in'}</p>\n                {error && <p>{error}</p>}\n                {mode === 'login' &&\n                    <>\n                        <div className={styles.form}>\n                            <SignInForm errorHandler={errorHandler} />\n                        </div>\n                        <Link className={styles.reset} to='/dada-chinese/reset-password'>Reset Password</Link>\n                    </>\n                }\n                {mode === 'register' &&\n                    <div className={styles.form}>\n                        <SignUpForm errorHandler={errorHandler} />\n                    </div>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default SignIn;","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"sign-in-form_wrap__uyA1X\",\"block\":\"sign-in-form_block__sFmMD\",\"invalid\":\"sign-in-form_invalid__Fj2iK\",\"inputs\":\"sign-in-form_inputs__MVwqR\",\"input-field\":\"sign-in-form_input-field__tLrji\"};"],"names":["useState","error","setError","navigate","useNavigate","authCtx","useContext","authContext","emailInputRef","useRef","passwordInputRef","className","styles","onSubmit","event","responseIsOk","preventDefault","fetch","method","body","JSON","stringify","email","current","value","password","headers","then","response","ok","json","data","loginHandler","token","expiration","catch","err","console","log","message","type","ref","Button","errorHandler","useInput","trim","name","nameIsValid","isValid","nameHasError","hasError","nameChangeHandler","valueChangeHandler","nameBlurHandler","blurHandler","resetName","reset","includes","emailIsValid","emailHasError","emailChangeHandler","emailBlurHandler","resetEmail","length","passwordIsValid","passwordHasError","passwordChangeHandler","passwordBlurHandler","resetPassword","password2","password2IsValid","password2HasError","password2ChangeHandler","password2BlurHandler","resetPassword2","classNames","confirmPassword","onChange","onBlur","placeholder","mode","location","useLocation","errorMessage","useEffect","pathname","mainStyles","to"],"sourceRoot":""}