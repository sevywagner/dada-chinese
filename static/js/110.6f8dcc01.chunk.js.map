{"version":3,"file":"static/js/110.6f8dcc01.chunk.js","mappings":"uLAiFA,UAzEqB,WACjB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,MAETC,GAAWC,EAAAA,EAAAA,UACXC,GAAaD,EAAAA,EAAAA,UACbE,GAAcF,EAAAA,EAAAA,UAGdG,GADQC,EAAAA,EAAAA,MACWC,MAAK,SAACC,GAAC,OAAKA,EAAEC,MAAQV,EAAOW,MAAM,IAuC5D,OACI,0BACQ,gBAAKC,UAAWC,EAAAA,EAAAA,KAAY,UACxB,kBAAMD,UAAWC,EAAAA,EAAAA,KAAaC,SAxCxB,SAACC,GAGnB,IAAIC,EACAC,EAHJF,EAAMG,iBAMFF,EAD2B,KAA3Bd,EAASiB,QAAQC,MACTd,EAAWU,MAEXd,EAASiB,QAAQC,MAIzBH,EAD8B,KAA9BZ,EAAYc,QAAQC,MACTd,EAAWW,SAEXZ,EAAYc,QAAQC,MAGnCC,MAAM,wDAAyD,CAC3DC,OAAQ,MACRC,KAAMC,KAAKC,UAAU,CACjBT,MAAAA,EACAC,SAAAA,EACAS,QAAStB,EAAWe,QAAQC,MAC5BO,KAAMrB,EAAWqB,KACjBC,GAAItB,EAAWI,MAEnBmB,QAAS,CACL,eAAgB,mBAChBC,cAAe,UAAaC,aAAaC,QAAQ,YAEtDC,MAAK,SAACC,GACLC,QAAQC,IAAIF,GACZpC,EAAS,qBACb,GACJ,EAKsE,WAClD,iBAAKc,UAAWyB,EAAAA,EAAAA,MAAiB,WAC7B,2BAAO,WACP,kBAAOC,KAAK,OAAOC,IAAKrC,EAAUsC,YAAalC,EAAWU,YAE9D,iBAAKJ,UAAWyB,EAAAA,EAAAA,MAAiB,WAC7B,2BAAO,eACP,kBAAOC,KAAK,OAAOC,IAAKlC,EAAamC,YAAalC,EAAWW,eAEjE,iBAAKL,UAAWyB,EAAAA,EAAAA,MAAiB,WAC7B,2BAAO,aACP,qBAAUzB,UAAWC,EAAAA,EAAAA,SAAiB0B,IAAKnC,EAAYqC,aAAcnC,EAAWoB,cAEpF,gBAAKd,UAAWC,EAAAA,EAAAA,OAAc,UAC1B,SAAC,IAAM,CAACyB,KAAK,SAAQ,SAAC,qBAMlD,C,qBC9EA,KAAgB,KAAO,2BAA2B,MAAQ,4BAA4B,QAAU,8BAA8B,OAAS,6BAA6B,cAAc,kC,qBCAlL,KAAgB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,OAAS,yBAAyB,SAAW,2B","sources":["pages/admin/EditPostPage.js","webpack://dada-chinese/./src/components/sign-in/css/sign-in-form.module.css?61f8","webpack://dada-chinese/./src/pages/css/new-blog.module.css?fd2e"],"sourcesContent":["import { useRef } from \"react\";\nimport { useParams, useNavigate } from \"react-router\";\nimport { useLoaderData } from \"react-router\";\n\nimport Button from \"../../components/util/Button\";\nimport styles from \"./../css/new-blog.module.css\";\nimport formStyles from \"./../../components/sign-in/css/sign-in-form.module.css\";\n\nconst EditPostPage = () => {\n    const navigate = useNavigate();\n    const params = useParams();\n\n    const titleRef = useRef();\n    const contentRef = useRef();\n    const imageUrlRef = useRef();\n\n    const posts = useLoaderData();\n    const targetPost = posts.find((p) => p._id === params.postId);\n    \n    const submitHandler = (event) => {\n        event.preventDefault();\n\n        let title;\n        let imageUrl;\n\n        if (titleRef.current.value === '') {\n            title = targetPost.title;\n        } else {\n            title = titleRef.current.value;\n        }\n        \n        if (imageUrlRef.current.value === '') {\n            imageUrl = targetPost.imageUrl;\n        } else {\n            imageUrl = imageUrlRef.current.value;\n        }\n\n        fetch('https://dada-chinese-rest-api.herokuapp.com/edit-post', {\n            method: 'PUT',\n            body: JSON.stringify({\n                title,\n                imageUrl,\n                content: contentRef.current.value,\n                date: targetPost.date,\n                id: targetPost._id\n            }),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: 'Bearer ' +  localStorage.getItem('token')\n            }\n        }).then((result) => {\n            console.log(result);\n            navigate('/dada-chinese/blog');\n        });\n    }\n\n    return (\n        <div>\n                <div className={styles.root}>\n                    <form className={styles.form} onSubmit={submitHandler}>\n                        <div className={formStyles.block}>\n                            <label>Title</label>\n                            <input type=\"text\" ref={titleRef} placeholder={targetPost.title} />\n                        </div>\n                        <div className={formStyles.block}>\n                            <label>Image URL</label>\n                            <input type=\"text\" ref={imageUrlRef} placeholder={targetPost.imageUrl} />\n                        </div>\n                        <div className={formStyles.block}>\n                            <label>Content</label>\n                            <textarea className={styles.textarea} ref={contentRef} defaultValue={targetPost.content}></textarea>\n                        </div>\n                        <div className={styles.center}>\n                            <Button type=\"submit\">Add blog</Button>\n                        </div>\n                    </form>\n                </div>\n        </div>\n    );\n}\n\nexport default EditPostPage;","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"sign-in-form_wrap__uyA1X\",\"block\":\"sign-in-form_block__sFmMD\",\"invalid\":\"sign-in-form_invalid__Fj2iK\",\"inputs\":\"sign-in-form_inputs__MVwqR\",\"input-field\":\"sign-in-form_input-field__tLrji\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"new-blog_form__igf5g\",\"wrap\":\"new-blog_wrap__8K6mA\",\"root\":\"new-blog_root__zNqEj\",\"center\":\"new-blog_center__2s6Ox\",\"textarea\":\"new-blog_textarea__URmiA\"};"],"names":["navigate","useNavigate","params","useParams","titleRef","useRef","contentRef","imageUrlRef","targetPost","useLoaderData","find","p","_id","postId","className","styles","onSubmit","event","title","imageUrl","preventDefault","current","value","fetch","method","body","JSON","stringify","content","date","id","headers","Authorization","localStorage","getItem","then","result","console","log","formStyles","type","ref","placeholder","defaultValue"],"sourceRoot":""}