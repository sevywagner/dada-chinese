{"version":3,"file":"static/js/31.6e48782f.chunk.js","mappings":"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","sources":["webpack://dada-chinese/./src/components/orders/order-item.module.css?87b3","components/orders/OrderItem.js","webpack://dada-chinese/./src/components/util/paginator/paginator.module.css?804e","components/util/paginator/Paginator.js","pages/admin/Orders.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"order-item_item__5sdE1\"};","import styles from './order-item.module.css';\nimport { Link } from 'react-router-dom';\n\nconst OrderItem = ({ order }) => {\n    return (\n        <div className={styles.item}>\n            <Link to={`/orders/${order._id}`}>\n                <p className={styles.name}>{order.name}</p>\n                <p>${order.totalPrice}</p>\n                <p>{order.date}</p>\n            </Link>\n        </div>\n    );\n}\n\nexport default OrderItem;","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"paginator_root__Ye6Gw\",\"control__wrap\":\"paginator_control__wrap__uC6-S\",\"control\":\"paginator_control__Efl85\",\"hide\":\"paginator_hide__n1oKe\"};","import styles from './paginator.module.css';\nimport mainStyles from './../../main.module.css';\n\nconst Paginator = (props) => {\n    const nextArrow = (props.currentPage > 1) ? <button className={styles.control} onClick={props.onPrevious}><img src={require('./../../../pictures/icons/leftArrow.png')} /></button> : <div className={styles.control}></div>;\n    const previousArrow = (props.currentPage < props.lastPage) ? <button className={styles.control} onClick={props.onNext}><img src={require('./../../../pictures/icons/rightArrow.png')} /></button> : <div className={styles.control}></div>;\n\n\n    return (\n        <div className={styles.root}>\n            {props.children}\n            <div className={styles['control__wrap']}>\n                {nextArrow}\n                <p>{props.currentPage} / {props.lastPage}</p>\n                {previousArrow}\n            </div>\n        </div>\n    );\n}\n\nexport default Paginator;","import { useState } from \"react\";\nimport { useLoaderData } from \"react-router\";\n\nimport OrderItem from \"../../components/orders/OrderItem\";\nimport Paginator from \"../../components/util/paginator/Paginator\";\n\nimport mainStyles from './../../components/main.module.css';\n\nconst Orders = () => {\n    const { orders: initialOrders, maxPage } = useLoaderData();\n    const [currentPage, setCurrentPage] = useState(1);\n    const [orders, setOrders] = useState(initialOrders);\n\n    const nextHandler = async () => {\n        const response = await fetch('https://dada-chinese-rest-api.herokuapp.com/shop/user-orders', {\n            method: 'POST',\n            body: JSON.stringify({ pageNum: currentPage + 1 }),\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem('token'),\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        const data = await response.json();\n        setCurrentPage((prevState) => prevState + 1);\n        setOrders(data.orders);\n    }\n    \n    const previousHandler = async () => {\n        const response = await fetch('https://dada-chinese-rest-api.herokuapp.com/shop/user-orders', {\n            method: 'POST',\n            body: JSON.stringify({ pageNum: currentPage - 1 }),\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem('token'),\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        const data = await response.json();\n        setCurrentPage((prevState) => prevState - 1);\n        setOrders(data.orders);\n    }\n\n    return (\n        <div>\n            <p className={mainStyles.title}>Orders</p>\n            <div className={mainStyles.wrap}>\n                <Paginator currentPage={currentPage} lastPage={maxPage} onPrevious={previousHandler} onNext={nextHandler}>\n                    <div className={mainStyles.wrap}>\n                        {orders.map((order) => <OrderItem key={order._id} order={order} />)}\n                    </div>\n                </Paginator>\n            </div>\n        </div>\n    );\n};\n\nexport const loader = async () => {\n    try {\n        const response = await fetch('https://dada-chinese-rest-api.herokuapp.com/shop/orders', {\n            method: 'POST',\n            body: JSON.stringify({ pageNum: 1 }),\n            headers: {\n                Authorization: 'Bearer ' + localStorage.getItem('token'),\n                \"Content-Type\": \"application/json\"\n            }\n        });\n    \n        if (!response.ok) {\n            throw new Error('response not ok');\n        }\n    \n        const data = await response.json();\n        return data;\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nexport default Orders;"],"names":["order","className","styles","to","_id","name","totalPrice","date","props","nextArrow","currentPage","onClick","onPrevious","src","require","previousArrow","lastPage","onNext","children","loader","fetch","method","body","JSON","stringify","pageNum","headers","Authorization","localStorage","getItem","response","ok","Error","json","data","console","log","useLoaderData","initialOrders","orders","maxPage","useState","setCurrentPage","setOrders","nextHandler","prevState","previousHandler","mainStyles","map"],"sourceRoot":""}