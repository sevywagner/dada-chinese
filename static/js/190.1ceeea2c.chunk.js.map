{"version":3,"file":"static/js/190.1ceeea2c.chunk.js","mappings":"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","sources":["components/blog/BlogItem.js","components/blog/BlogList.js","pages/Blog.js","webpack://dada-chinese/./src/components/blog/css/blog.module.css?1085"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authContext } from '../../store/context/auth-context';\n\nimport styles from './css/blog.module.css';\nimport mainStyles from './../main.module.css'\n\nconst BlogItem = (props) => {\n    const [result, setResult] = useState();\n    const [file, setFile] = useState();\n    const authCtx = useContext(authContext);\n    const navigate = useNavigate();\n\n    const dateStringArray = props.date.split(' ');\n\n    const adminDeletePostHandler = () => {\n        const sure = prompt('Are you sure? (yes / no)');\n\n        if (sure === 'no' || !sure) {\n            return;\n        }\n\n        fetch('https://dada-chinese-rest-api.herokuapp.com/delete-post', {\n            method: 'DELETE',\n            body: JSON.stringify({ postId: props.id }),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: 'Bearer ' + authCtx.token\n            }\n        }).then((response) => {\n            if (response.ok) {\n                return response.json();\n            }\n        }).then((data) => {\n            navigate('/dada-chinese/blog');\n        }).catch((err) => {\n            console.log(err);\n            setResult(err.message);\n        })\n    }\n\n    useEffect(() => {\n        fetch(`https://dada-chinese-rest-api.herokuapp.com/${props.imageUrl}`, {\n            method: 'GET',\n            headers: {\n                \"Content-Type\": `image/${props.imageUrl.split('.')[1]}`\n            }\n        }).then((fileData) => {\n            return fileData.blob();\n        }).then((blob) => {\n            const url = URL.createObjectURL(blob);\n            setFile(url);\n        }).catch((err) => {\n            console.log(err);\n        })\n    }, []);\n\n    return (\n        <>\n            {result && <p>{result}</p>}\n            <Link className={styles.link} to={props.admin ? `/dada-chinese/edit-post/${props.id}` : `/dada-chinese/blog-post/${props.id}`}>\n                <div className={styles.item}>\n                    <div className={styles.left}>\n                        <img src={file} />\n                    </div>\n                    <div className={styles.right}>\n                        <div className={styles.date}>\n                            <p>{dateStringArray[1]} {dateStringArray[2]} {dateStringArray[3]}</p>\n                        </div>\n                        <div>\n                            <p className={mainStyles.subtitle}>{props.title}</p>\n                        </div>\n                    </div>\n                </div>\n            </Link>\n            {props.admin && <div className={styles.delete}>\n                <button className={styles['delete-button']} onClick={adminDeletePostHandler}>\n                    Delete Post\n                </button>\n            </div>}\n        </>\n    );\n}\n\nexport default BlogItem;","import styles from \"./css/blog.module.css\";\nimport BlogItem from \"./BlogItem\";\n\nconst BlogList = ({ posts }) => {\n  return (\n    <div className={styles.root}>\n        <div className={styles.list}>\n        {posts && posts.map((post) => (\n            <BlogItem\n              key={post._id}\n              id={post._id}\n              title={post.title}\n              imageUrl={post.imageUrl}\n              content={post.content}\n              date={post.date}\n            />\n        ))}\n        </div>\n    </div>\n  );\n};\n\nexport default BlogList;","import mainStyles from './../components/main.module.css';\nimport BlogList from '../components/blog/BlogList';\nimport { useLoaderData } from 'react-router-dom';\n\nconst Blog = () => {\n    const blogPosts = useLoaderData();\n\n    return (\n        <div>\n            <p className={mainStyles.title}>Blog</p>\n            <BlogList posts={blogPosts} />\n        </div>\n    );\n}\n\nexport default Blog;\n\nexport const loader = async () => {\n    try {\n        const response = await fetch('https://dada-chinese-rest-api.herokuapp.com/posts');\n        if (!response.ok) {\n            return;\n        }\n        const blog = await response.json();\n        return blog.posts;\n    } catch (err) {\n        console.log(err);\n    }\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"blog_root__lhRxv\",\"list\":\"blog_list__vIyxN\",\"item\":\"blog_item__JgxRn\",\"link\":\"blog_link__5oouc\",\"left\":\"blog_left__KzQ9I\",\"right\":\"blog_right__3dNyp\",\"date\":\"blog_date__xvgY3\",\"delete\":\"blog_delete__tkaqD\",\"delete-button\":\"blog_delete-button__QQuR2\"};"],"names":["props","useState","result","setResult","file","setFile","authCtx","useContext","authContext","navigate","useNavigate","dateStringArray","date","split","useEffect","fetch","imageUrl","method","headers","then","fileData","blob","url","URL","createObjectURL","catch","err","console","log","className","styles","to","admin","id","src","mainStyles","title","onClick","sure","prompt","body","JSON","stringify","postId","Authorization","token","response","ok","json","data","message","posts","map","post","BlogItem","_id","content","blogPosts","useLoaderData","loader","blog"],"sourceRoot":""}