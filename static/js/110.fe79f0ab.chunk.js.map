{"version":3,"file":"static/js/110.fe79f0ab.chunk.js","mappings":"uLAgFA,UAxEqB,WACjB,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,MAETC,GAAWC,EAAAA,EAAAA,UACXC,GAAaD,EAAAA,EAAAA,UACbE,GAAcF,EAAAA,EAAAA,UAGdG,GADQC,EAAAA,EAAAA,MACWC,MAAK,SAACC,GAAC,OAAKA,EAAEC,MAAQV,EAAOW,MAAM,IAsC5D,OACI,0BACQ,gBAAKC,UAAWC,EAAAA,EAAAA,KAAY,UACxB,kBAAMD,UAAWC,EAAAA,EAAAA,KAAaC,SAvCxB,SAACC,GAGnB,IAAIC,EACAC,EAHJF,EAAMG,iBAMFF,EAD2B,KAA3Bd,EAASiB,QAAQC,MACTd,EAAWU,MAEXd,EAASiB,QAAQC,MAIzBH,EAD8B,KAA9BZ,EAAYc,QAAQC,MACTd,EAAWW,SAEXZ,EAAYc,QAAQC,MAGnCC,MAAM,wDAAyD,CAC3DC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACjBT,MAAAA,EACAC,SAAAA,EACAS,QAAStB,EAAWe,QAAQC,MAC5BO,KAAMrB,EAAWqB,KACjBC,GAAItB,EAAWI,MAEnBmB,QAAS,CACL,eAAgB,sBAErBC,MAAK,SAACC,GACLC,QAAQC,IAAIF,GACZjC,EAAS,qBACb,GACJ,EAKsE,WAClD,iBAAKc,UAAWsB,EAAAA,EAAAA,MAAiB,WAC7B,2BAAO,WACP,kBAAOC,KAAK,OAAOC,IAAKlC,EAAUmC,YAAa/B,EAAWU,YAE9D,iBAAKJ,UAAWsB,EAAAA,EAAAA,MAAiB,WAC7B,2BAAO,eACP,kBAAOC,KAAK,OAAOC,IAAK/B,EAAagC,YAAa/B,EAAWW,eAEjE,iBAAKL,UAAWsB,EAAAA,EAAAA,MAAiB,WAC7B,2BAAO,aACP,qBAAUtB,UAAWC,EAAAA,EAAAA,SAAiBuB,IAAKhC,EAAYkC,aAAchC,EAAWoB,cAEpF,gBAAKd,UAAWC,EAAAA,EAAAA,OAAc,UAC1B,SAAC,IAAM,CAACsB,KAAK,SAAQ,SAAC,qBAMlD,C","sources":["pages/admin/EditPostPage.js"],"sourcesContent":["import { useRef } from \"react\";\nimport { useParams, useNavigate } from \"react-router\";\nimport { useLoaderData } from \"react-router\";\n\nimport Button from \"../../components/util/Button\";\nimport styles from \"./../css/new-blog.module.css\";\nimport formStyles from \"./../../components/sign-in/css/sign-in-form.module.css\";\n\nconst EditPostPage = () => {\n    const navigate = useNavigate();\n    const params = useParams();\n\n    const titleRef = useRef();\n    const contentRef = useRef();\n    const imageUrlRef = useRef();\n\n    const posts = useLoaderData();\n    const targetPost = posts.find((p) => p._id === params.postId);\n    \n    const submitHandler = (event) => {\n        event.preventDefault();\n\n        let title;\n        let imageUrl;\n\n        if (titleRef.current.value === '') {\n            title = targetPost.title;\n        } else {\n            title = titleRef.current.value;\n        }\n        \n        if (imageUrlRef.current.value === '') {\n            imageUrl = targetPost.imageUrl;\n        } else {\n            imageUrl = imageUrlRef.current.value;\n        }\n\n        fetch('https://dada-chinese-rest-api.herokuapp.com/edit-post', {\n            method: 'POST',\n            body: JSON.stringify({\n                title,\n                imageUrl,\n                content: contentRef.current.value,\n                date: targetPost.date,\n                id: targetPost._id\n            }),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }).then((result) => {\n            console.log(result);\n            navigate('/dada-chinese/blog');\n        });\n    }\n\n    return (\n        <div>\n                <div className={styles.root}>\n                    <form className={styles.form} onSubmit={submitHandler}>\n                        <div className={formStyles.block}>\n                            <label>Title</label>\n                            <input type=\"text\" ref={titleRef} placeholder={targetPost.title} />\n                        </div>\n                        <div className={formStyles.block}>\n                            <label>Image URL</label>\n                            <input type=\"text\" ref={imageUrlRef} placeholder={targetPost.imageUrl} />\n                        </div>\n                        <div className={formStyles.block}>\n                            <label>Content</label>\n                            <textarea className={styles.textarea} ref={contentRef} defaultValue={targetPost.content}></textarea>\n                        </div>\n                        <div className={styles.center}>\n                            <Button type=\"submit\">Add blog</Button>\n                        </div>\n                    </form>\n                </div>\n        </div>\n    );\n}\n\nexport default EditPostPage;"],"names":["navigate","useNavigate","params","useParams","titleRef","useRef","contentRef","imageUrlRef","targetPost","useLoaderData","find","p","_id","postId","className","styles","onSubmit","event","title","imageUrl","preventDefault","current","value","fetch","method","body","JSON","stringify","content","date","id","headers","then","result","console","log","formStyles","type","ref","placeholder","defaultValue"],"sourceRoot":""}