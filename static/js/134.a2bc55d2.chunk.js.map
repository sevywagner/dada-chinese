{"version":3,"file":"static/js/134.a2bc55d2.chunk.js","mappings":"2MAuFA,UA/EgB,WACd,OAAwBA,EAAAA,EAAAA,YAAU,eAA3BC,EAAI,KAAEC,EAAO,KACpB,GAA0BF,EAAAA,EAAAA,YAAU,eAA7BG,EAAK,KAAEC,EAAQ,KAChBC,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,UACXC,GAAaD,EAAAA,EAAAA,UAEbE,IADcF,EAAAA,EAAAA,WACAA,EAAAA,EAAAA,WA0CpB,OAFAG,QAAQC,IAAIX,IAGV,iBAAKY,UAAWC,EAAAA,EAAAA,KAAY,WAC1B,cAAGD,UAAWE,EAAAA,EAAAA,MAAiB,SAAC,mBAC/BZ,IAAS,cAAGU,UAAWE,EAAAA,EAAAA,MAAiB,SAAEZ,KAC3C,kBAAMU,UAAWC,EAAAA,EAAAA,KAAaE,SA5CZ,SAACC,GACrBA,EAAMC,iBAEN,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASd,EAASe,QAAQC,OAC1CJ,EAASE,OAAO,UAAWZ,EAAWa,QAAQC,OAC9CJ,EAASE,OAAO,QAASpB,GACzBkB,EAASE,OAAO,WAAYX,EAAYY,QAAQC,OAChDJ,EAASE,OAAO,QAAQ,IAAIG,MAAOC,gBAEnC,IAAIC,GAAW,EAEfC,MAAM,oDAAqD,CACzDC,OAAQ,OACRC,KAAMV,EACNW,QAAS,CACPC,cAAe,UAAaC,aAAaC,QAAQ,YAElDC,MAAK,SAACC,GAKP,OAJKA,EAAOC,KACVV,GAAW,GAGNS,EAAOE,MAChB,IAAGH,MAAK,SAACI,GACHZ,EACFtB,EAASkC,EAAKnC,QAEdQ,QAAQC,IAAI0B,EAAKC,SACjBlC,EAAS,sBAEb,IAAGmC,OAAM,SAACC,GAAG,OAAK9B,QAAQC,IAAI6B,EAAI,GACpC,EAY0D,WACpD,iBAAK5B,UAAW6B,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,WACP,kBAAOC,KAAK,OAAOC,IAAKrC,QAE1B,iBAAKM,UAAW6B,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,WACP,kBAAOC,KAAK,OAAOE,SAjBP,SAAC5B,GACnBf,EAAQe,EAAM6B,OAAOC,MAAM,GAC7B,EAeiDC,K,iBAE3C,iBAAKnC,UAAW6B,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,eACP,kBAAOC,KAAK,OAAOC,IAAKlC,QAE1B,iBAAKG,UAAW6B,EAAAA,EAAAA,MAAiB,WAC/B,2BAAO,aACP,qBAAU7B,UAAWC,EAAAA,EAAAA,SAAiB8B,IAAKnC,QAE7C,gBAAKI,UAAWC,EAAAA,EAAAA,OAAc,UAC1B,SAAC,IAAM,CAAC6B,KAAK,SAAQ,SAAC,oBAKlC,C,qBCpFA,KAAgB,KAAO,2BAA2B,MAAQ,4BAA4B,QAAU,8BAA8B,OAAS,6BAA6B,cAAc,kC,qBCAlL,KAAgB,KAAO,uBAAuB,KAAO,uBAAuB,KAAO,uBAAuB,OAAS,yBAAyB,SAAW,2B","sources":["pages/admin/NewBlog.js","webpack://dada-chinese/./src/components/sign-in/css/sign-in-form.module.css?61f8","webpack://dada-chinese/./src/pages/css/new-blog.module.css?fd2e"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\n\nimport Button from \"../../components/util/Button\";\nimport styles from \"./../css/new-blog.module.css\";\nimport formStyles from \"./../../components/sign-in/css/sign-in-form.module.css\";\nimport mainStyles from './../../components/main.module.css';\n\nconst NewBlog = () => {\n  const [file, setFile] = useState();\n  const [error, setError] = useState();\n  const navigate = useNavigate();\n\n  const titleRef = useRef();\n  const contentRef = useRef();\n  const imageUrlRef = useRef();\n  const videoUrlRef = useRef();\n\n  const submitHandler = (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append('title', titleRef.current.value);\n    formData.append('content', contentRef.current.value);\n    formData.append('image', file);\n    formData.append('videoUrl', videoUrlRef.current.value);\n    formData.append('date', new Date().toDateString());\n\n    let hasError = false;\n\n    fetch(\"https://dada-chinese-rest-api.herokuapp.com/posts\", {\n      method: \"POST\",\n      body: formData,\n      headers: {\n        Authorization: 'Bearer ' +  localStorage.getItem('token')\n      },\n    }).then((result) => {\n      if (!result.ok) {\n        hasError = true;\n      }\n\n      return result.json();\n    }).then((data) => {\n      if (hasError) {\n        setError(data.error);\n      } else {\n        console.log(data.message);\n        navigate('/dada-chinese/blog');\n      }\n    }).catch((err) => console.log(err));\n  };\n\n  const fileHandler = (event) => {\n    setFile(event.target.files[0]);\n  }\n\n  console.log(file);\n\n  return (\n    <div className={styles.root}>\n      <p className={mainStyles.title}>New Blog Entry</p>\n      {error && <p className={mainStyles.error}>{error}</p>}\n      <form className={styles.form} onSubmit={submitHandler}>\n        <div className={formStyles.block}>\n          <label>Title</label>\n          <input type=\"text\" ref={titleRef} />\n        </div>\n        <div className={formStyles.block}>\n          <label>Image</label>\n          <input type=\"file\" onChange={fileHandler.bind(this)} />\n        </div>\n        <div className={formStyles.block}>\n          <label>Video Url</label>\n          <input type=\"text\" ref={videoUrlRef} />\n        </div>\n        <div className={formStyles.block}>\n          <label>Content</label>\n          <textarea className={styles.textarea} ref={contentRef}></textarea>\n        </div>\n        <div className={styles.center}>\n            <Button type=\"submit\">Add blog</Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default NewBlog;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrap\":\"sign-in-form_wrap__uyA1X\",\"block\":\"sign-in-form_block__sFmMD\",\"invalid\":\"sign-in-form_invalid__Fj2iK\",\"inputs\":\"sign-in-form_inputs__MVwqR\",\"input-field\":\"sign-in-form_input-field__tLrji\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"new-blog_form__igf5g\",\"wrap\":\"new-blog_wrap__8K6mA\",\"root\":\"new-blog_root__zNqEj\",\"center\":\"new-blog_center__2s6Ox\",\"textarea\":\"new-blog_textarea__URmiA\"};"],"names":["useState","file","setFile","error","setError","navigate","useNavigate","titleRef","useRef","contentRef","videoUrlRef","console","log","className","styles","mainStyles","onSubmit","event","preventDefault","formData","FormData","append","current","value","Date","toDateString","hasError","fetch","method","body","headers","Authorization","localStorage","getItem","then","result","ok","json","data","message","catch","err","formStyles","type","ref","onChange","target","files","bind"],"sourceRoot":""}