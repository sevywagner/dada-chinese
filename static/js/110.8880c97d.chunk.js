"use strict";(self.webpackChunkdada_chinese=self.webpackChunkdada_chinese||[]).push([[110],{6698:function(e,n,t){var i=t(184);n.Z=function(e){var n=e.onUpload,t=e.num;return(0,i.jsx)("input",{type:"file",onChange:function(e){return n(e,t)}})}},9110:function(e,n,t){t.r(n);var i=t(3433),r=t(7762),a=t(9439),o=t(2791),l=t(7689),s=t(2845),c=t(7172),u=t(3264),d=t(2352),f=t(6698),p=t(184);n.default=function(){var e=(0,o.useState)([null]),n=(0,a.Z)(e,2),t=n[0],m=n[1],_=(0,l.s0)(),h=(0,l.UO)(),g=(0,o.useRef)(),v=(0,o.useRef)(),x=(0,o.useRef)(),b=(0,l.f_)().find((function(e){return e._id===h.postId})),j=function(e,n){m((function(t){return t[n-1]=e.target.files[0],t}))},Z=(0,o.useState)([1]),k=(0,a.Z)(Z,2),w=k[0],N=k[1];return(0,o.useEffect)((function(){m((function(e){return[].concat((0,i.Z)(e),[null])}))}),[w]),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:c.Z.root,children:[(0,p.jsx)("p",{className:u.Z.title,children:"Edit Blog"}),(0,p.jsxs)("form",{className:c.Z.form,onSubmit:function(e){var n;e.preventDefault(),n=""===g.current.value?b.title:g.current.value,console.log(x.current.value);var i=new FormData;i.append("title",n),i.append("imageWebContentLinks",b.imageWebContentLinks);var a,o,l=(0,r.Z)(t);try{for(l.s();!(a=l.n()).done;){var s=a.value;i.append("image",s)}}catch(c){l.e(c)}finally{l.f()}i.append("videoUrl",x.current.value?x.current.value:b.videoUrl),i.append("content",v.current.value),i.append("date",b.date),i.append("id",b._id),fetch("https://dada-chinese-rest-api.herokuapp.com/edit-post",{method:"PUT",body:i,headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){return e.ok?(o=!0,_("/blog")):o=!1,e.json()})).then((function(e){o?console.log(e.message):console.log(e.error)})).catch((function(e){console.log(e)}))},children:[(0,p.jsxs)("div",{className:d.Z.block,children:[(0,p.jsx)("label",{children:"Title"}),(0,p.jsx)("input",{type:"text",ref:g,placeholder:b.title})]}),(0,p.jsxs)("div",{className:d.Z.block,children:[(0,p.jsx)("label",{children:"Image"}),w.map((function(e){return(0,p.jsx)(f.Z,{onUpload:j,num:e},e)})),(0,p.jsx)("button",{type:"button",onClick:function(){N((function(e){return[].concat((0,i.Z)(e),[e.length+1])}))},children:"Add image"})]}),(0,p.jsxs)("div",{className:d.Z.block,children:[(0,p.jsx)("label",{children:"Video Url"}),(0,p.jsx)("input",{type:"text",ref:x})]}),(0,p.jsxs)("div",{className:d.Z.block,children:[(0,p.jsx)("label",{children:"Content"}),(0,p.jsx)("textarea",{className:c.Z.textarea,ref:v,defaultValue:b.content})]}),(0,p.jsx)("div",{className:c.Z.center,children:(0,p.jsx)(s.Z,{type:"submit",children:"Add blog"})})]})]})})}},2352:function(e,n){n.Z={wrap:"sign-in-form_wrap__uyA1X",block:"sign-in-form_block__sFmMD",invalid:"sign-in-form_invalid__Fj2iK",inputs:"sign-in-form_inputs__MVwqR","input-field":"sign-in-form_input-field__tLrji"}},7172:function(e,n){n.Z={form:"new-blog_form__igf5g",wrap:"new-blog_wrap__8K6mA",root:"new-blog_root__zNqEj",center:"new-blog_center__2s6Ox",textarea:"new-blog_textarea__URmiA"}}}]);
//# sourceMappingURL=110.8880c97d.chunk.js.map